# 代码编写规范

## Godot

### 场景

场景初步定义**展示场景**与**功能场景**概念.
#### 场景基础规范

* 场景应该统一存储在`./scene`文件夹下
* 场景命名统一采用驼峰命名法
* 场景根节点应该与场景名称相同

#### 展示场景

**展示场景**为需要直接跳转的场景，比如`main.tscn`场景、`game.tscn`场景、`end.tscn`场景，展示场景的基础规范如下：

* 根节点只管理基础控制操作

#### 功能场景

**功能场景**指通过添加以实现某种对应功能的场景，比如`bottom.tscn`场景、`font.tscn`场景，功能场景的基础规范如下：

* 一个功能场景只实现一个业务操作
* 功能场景不应该直接继承`./theme`文件夹内的主题，应该通过所在的展示场景继承.

### 节点

#### 节点基础规范

* 节点应该统一使用驼峰命名法.

## Csharp

csharp文件应该统一存储在`./ezgal/csharp`文件夹中.

### csharp基础规范

* 文件名称应该与继承的节点名称对应采用驼峰命名法.
* 变量命名规范如下所示:
	* 全局共有变量(public)采用大驼峰命名法(`CamelCase`).
	* 全局私有变量(private)采用首位下划线的小驼峰命名法(`_camelCase`).
	* 函数内部变量采用小驼峰命名法(`camelCase`).
	* 需要获取节点时应注意变量名与获取的节点名称对应.
	* 如果变量对应单一节点需添加`Node`后缀.
	* 如果变量对应场景需添加`Scene`后缀.
* 函数采用大驼峰命名法.
* 复杂函数应采用`<summary></summary>`简洁地说明函数的意义, 说明语言推荐统一采用**英文-中文-日文**的顺序.

### 全局文件

当前csharp使用的全局文件包含`FlowData.cs`、`Global.cs`、`Tools.cs`.

##### FlowData

`FlowData.cs`文件为深度开发的核心定义文件，应尽量避免修改，如果`FlowData.cs`文件出现变动，需要调整make文件夹内部文件使其符合构建要求.

##### Global

`Global.cs`文件用于存储ezgal的解释器函数，非解释功能内容请勿添加在`Global.cs`.

##### Tools

用于存储复用性较高的函数与相关参数.

## gdscript

gdscript文件应该统一存储在`./ezgal/gdscript`文件夹中.

#### gdscript基础规范

- 变量、函数应采用蛇形命名法(`snake_case`).
- 需要获取节点时应注意变量名与获取的节点名称对应.
- 如果变量对应单一节点需添加`_node`后缀.
- 如果变量对应场景需添加`_scene`后缀.
- 函数应注明变量类型、返还变量类型.

#### 全局文件

##### ezapi

`ezapi`是使用gdscript调用csharp方法的统一接口.
